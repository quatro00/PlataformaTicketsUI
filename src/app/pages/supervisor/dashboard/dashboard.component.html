<nz-modal
[nzStyle]="{ top: '20px' }"
[(nzVisible)]="isVisibleTop"
nzTitle="Información del ticket"
[nzFooter]="modalFooter"
(nzOnCancel)="handleCancelTop()"
(nzOnOk)="handleOkTop()"
nzWidth ="1600px"
>
<ng-container *nzModalContent>
 <app-ticket-detalle [ticket]="ticketDetalle"></app-ticket-detalle>
</ng-container>
<ng-template #modalFooter>
  
</ng-template>
</nz-modal>

<div nz-row [nzGutter]="25">
    <div nz-col class="mb-[25px]" nzXs="24" nzMd="12" nzXXl="6">
      <div bordered="false"
        class="px-[25px] py-[39.50px] bg-white dark:bg-white/10 rounded-10 relative text-[15px] text-theme-gray dark:text-white/60 leading-6">
        <div class="flex justify-between">
          <div
            class="flex items-center justify-center order-2 bg-primary/10 text-primary w-[58px] h-[58px] rounded-2xl">
            <div
              class="fill-primary  flex items-center">
              <svg-icon class="w-[30px] h-[30px] [&>svg]:w-full [&>svg]:h-full" src="assets/images/svg/unicons-line/ticket.svg"></svg-icon>
            </div>
          </div>
          <div>
            <h4
              class="mb-0 text-3xl max-lg:text-[26px] max-sm:text-2xl font-semibold leading-normal text-dark dark:text-white/[.87]">
              <span>
                {{ticketsActivos + ticketsEnEspera + ticketsCerrados}}
              </span>
            </h4>
            <span class="font-normal text-body dark:text-white/60 text-15">Tickets totaless</span>
          </div>
        </div>
      </div>
    </div>

    <div nz-col class="mb-[25px]" nzXs="24" nzMd="12" nzXXl="6">
        <div bordered="false"
          class="px-[25px] py-[39.50px] bg-white dark:bg-white/10 rounded-10 relative text-[15px] text-theme-gray dark:text-white/60 leading-6">
          <div class="flex justify-between">
            <div
              class="flex items-center justify-center order-2 bg-success/10 text-success w-[58px] h-[58px] rounded-2xl">
              <div
                class="fill-success  flex items-center">
                <svg-icon class="w-[30px] h-[30px] [&>svg]:w-full [&>svg]:h-full" src="assets/images/svg/unicons-line/ticket.svg"></svg-icon>
              </div>
            </div>
            <div>
              <h4
                class="mb-0 text-3xl max-lg:text-[26px] max-sm:text-2xl font-semibold leading-normal text-dark dark:text-white/[.87]">
                <span>
                  {{ticketsActivos}}
                </span>
              </h4>
              <span class="font-normal text-body dark:text-white/60 text-15">Tickets activos</span>
            </div>
          </div>
        </div>
      </div>

      <div nz-col class="mb-[25px]" nzXs="24" nzMd="12" nzXXl="6">
        <div bordered="false"
          class="px-[25px] py-[39.50px] bg-white dark:bg-white/10 rounded-10 relative text-[15px] text-theme-gray dark:text-white/60 leading-6">
          <div class="flex justify-between">
            <div
              class="flex items-center justify-center order-2 bg-warning/10 text-warning w-[58px] h-[58px] rounded-2xl">
              <div
                class="fill-warning  flex items-center">
                <svg-icon class="w-[30px] h-[30px] [&>svg]:w-full [&>svg]:h-full" src="assets/images/svg/unicons-line/ticket.svg"></svg-icon>
              </div>
            </div>
            <div>
              <h4
                class="mb-0 text-3xl max-lg:text-[26px] max-sm:text-2xl font-semibold leading-normal text-dark dark:text-white/[.87]">
                <span>
                  {{ticketsEnEspera}}
                </span>
              </h4>
              <span class="font-normal text-body dark:text-white/60 text-15">Tickets en espera</span>
            </div>
          </div>
        </div>
      </div>

      <div nz-col class="mb-[25px]" nzXs="24" nzMd="12" nzXXl="6">
        <div bordered="false"
          class="px-[25px] py-[39.50px] bg-white dark:bg-white/10 rounded-10 relative text-[15px] text-theme-gray dark:text-white/60 leading-6">
          <div class="flex justify-between">
            <div
              class="flex items-center justify-center order-2 bg-danger/10 text-danger w-[58px] h-[58px] rounded-2xl">
              <div
                class="fill-danger  flex items-center">
                <svg-icon class="w-[30px] h-[30px] [&>svg]:w-full [&>svg]:h-full" src="assets/images/svg/unicons-line/ticket.svg"></svg-icon>
              </div>
            </div>
            <div>
              <h4
                class="mb-0 text-3xl max-lg:text-[26px] max-sm:text-2xl font-semibold leading-normal text-dark dark:text-white/[.87]">
                <span>
                  {{ticketsCerrados}}
                </span>
              </h4>
              <span class="font-normal text-body dark:text-white/60 text-15">Tickets cerrados</span>
            </div>
          </div>
        </div>
      </div>
  </div>




  <div class="bg-white dark:bg-white/10 m-0 p-0 text-theme-gray dark:text-white/60 text-[15px] rounded-10 relative mb-[25px]">
    <div class="pt-[30px] pb-[9px] px-[25px] text-dark dark:text-white/[.87] font-medium text-[17px] flex items-center justify-between max-sm:flex-col max-sm:gap-[15px]">
      <h4 class="mb-0 text-[20px] leading-6 font-medium text-dark dark:text-white/[.87]">Tickets activos</h4>
     
    </div>
    <div class="px-[25px] pb-[25px]">
      <div class="flex items-center justify-center w-full mt-5 mb-[25px] max-md:flex-col max-md:justify-center gap-[15px]">
        <div class="inline-flex items-center flex-wrap w-full gap-[20px] max-md:justify-center">
          <div class="inline-flex items-center">
            
          </div>
          <div class="inline-flex items-center">
            
          </div>
        </div>
        <div class="ssm:min-w-[280px]">
          <nz-input-group class="h-10 inline-flex items-center text-body dark:text-white/60 bg-white dark:bg-white/10 border-normal border-1 dark:border-white/10 rounded-[6px] px-[20px]">
            <i class="text-light dark:text-white/[.87] text-[18px]" nz-icon nzType="search"></i>
            <input
              class="bg-transparent border-none text-[15px] shadow-none text-dark dark:text-white/[.87] flex items-center"
              type="text"
              nz-input
              placeholder="Search contacts"
              [(ngModel)]="contactSearchValue"
              (ngModelChange)="filterByContact()"
            />
          </nz-input-group>
        </div>
      </div>
      <perfect-scrollbar>
          <div class="w-full max-2xl:overflow-x-auto max-h-[450px]">
            <nz-table #basicTable [nzData]="filteredPeople" [nzFrontPagination]="false" [nzShowPagination]="false">
                <thead>
                    <tr>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden rounded-s-[10px] capitalize">Folio</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Solicitante</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Categoría</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Subcategoria</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Departamento</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Area</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Título</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Prioridad</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Estatus</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-start text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden capitalize">Creación</th>
                      <th class="bg-regularBG dark:bg-[#323440] px-[20px] py-[16px] text-end text-dark dark:text-white/[.87] text-[15px] font-medium border-none before:hidden rounded-e-[10px] capitalize "></th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr class="group max-lg:whitespace-nowrap" *ngFor="let person of filteredPeople">
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">#{{ person.folio }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.solicitante }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.categoria }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.subcategoria }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.departamento }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.area }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.titulo }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                        
    
                        <span style="background-color: {{person.color}}"
                        class="inline-flex items-center justify-center min-h-[24px] px-3 text-xs font-medium rounded-[15px] capitalize"
                      >
                      &nbsp;
                      </span>
                      {{person.prioridad}}
                       
    
                      </td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                        <span
                        class="inline-flex items-center justify-center bg-{{ person.estatusColor }}/10 text-{{ person.estatusColor }} min-h-[24px] px-3 text-xs font-medium rounded-[15px] capitalize"
                      >
                        {{ person.estatus }}
                      </span>
                      </td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">{{ person.fechaCreacion }}</td>
                      <td class="ltr:pr-[20px] rtl:pl-[20px] text-theme-gray dark:text-white/60 font-medium text-[15px] py-4 before:hidden border-none group-hover:bg-transparent">
                      <ul class="flex items-center justify-end gap-[15px]">
                          <li>
                            <div (click)="showModalTop(person.id)" class="flex items-center leading-none text-light dark:text-white/60 hover:text-primary">
                              <span class="[&>svg]:w-[14px] [&>svg]:h-[14px] cursor-pointer " nz-icon nzType="eye"
                                nzTheme="outline"></span>
                            </div>
                          </li>
                        </ul>
                      </td>
                    </tr>
                  </tbody>
            </nz-table>
          </div>
      </perfect-scrollbar>
      <div class="border-t border-regular dark:border-white/10 pt-[30px] mt-[10px] flex justify-center">
        <nz-pagination [nzPageIndex]="1" [nzTotal]="50"></nz-pagination>
      </div>
    </div>
  </div>
